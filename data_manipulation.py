from matplotlib import pyplot as plt

milk_mult = 75/2000
bean_mult = 7/2000

def plot_subplot(csv, subplot, label, color, mult=1, csv2=None, ratio=None, show=False):
    if csv2:
        bx = []
        by = []
        with open(csv) as csv:
            for i, line in enumerate(csv):
                line = line.split(",")
                if i != 0:
                    bx.append(float(line[0]))  # Assuming bx is a label (string)
                    by.append(float(line[1].strip()) * float(ratio.split(":")[0]) * bean_mult)  # Convert y-values to float
        with open(csv2) as csv2:
            for i, line in enumerate(csv2):
                line = line.split(",")
                if i != 0:
                    by[i-1] += float(line[1].strip()) * float(ratio.split(":")[1]) * milk_mult # Convert y-values to float
            subplot.plot(bx, by, label=label, color=color)  # Add label and color

    else:
        with open(csv) as b:
            bx = []
            by = []
            for i, line in enumerate(b):
                line = line.split(",")
                if i != 0:
                    bx.append(line[0])  # Assuming bx is a label (string)
                    by.append(float(line[1].strip()) * mult)  # Convert y-values to float
            subplot.plot(bx, by, label=label, color=color)  # Add label and color
    if show:
        print([by[i+1] - by[i] for i in range(len(by)-1)])



def plot_comparison():
    fig, ax = plt.subplots(figsize=(10, 5))

    # Plot each dataset with a different color
    plot_subplot("data/Coffee Beans_price_history.csv", ax, "Coffee Beans", "blue", mult=bean_mult)
    plot_subplot("data/Milk_price_history.csv", ax, "Milk", "green", mult=milk_mult)
    plot_subplot("data/Coffee_price_history.csv", ax, "Coffee", "red", show=True)

    plot_subplot("data/Coffee Beans_price_history.csv", ax, "Adjusted", "purple", csv2="data/Milk_price_history.csv", ratio="2:12", show=True)


    ax.set_xlabel("Index")
    ax.set_ylabel("Price (% of Max Price)")
    ax.set_title("Price History as Percentage of Max Price")
    ax.legend()  # Add legend to differentiate the datasets

    plt.tight_layout()
    plt.show()


plot_comparison()

x = [0.0, -0.029999999999999805, 0.029999999999999805, -0.020000000000000018, 0.020000000000000018, 0.009999999999999787, -0.020000000000000018, 0.06000000000000005, -0.040000000000000036, 0.040000000000000036, -0.040000000000000036, 0.020000000000000018, 0.020000000000000018, -0.029999999999999805, -0.010000000000000231, 0.03000000000000025, -0.020000000000000018, 0.009999999999999787, -0.020000000000000018, 0.010000000000000231, 0.009999999999999787, 0.010000000000000231, -0.010000000000000231, 0.07000000000000028, -0.06000000000000005, 0.0, 0.029999999999999805, -0.040000000000000036, 0.010000000000000231, 0.009999999999999787, 0.010000000000000231, -0.020000000000000018, 0.009999999999999787, 0.010000000000000231, -0.040000000000000036, 0.06000000000000005, -0.020000000000000018, -0.010000000000000231, 0.020000000000000018, 0.0, -0.020000000000000018, 0.040000000000000036, -0.020000000000000018, -0.040000000000000036, 0.03000000000000025, -0.03000000000000025, 0.03000000000000025, 0.029999999999999805, -0.04999999999999982, 0.04999999999999982, 0.010000000000000231, -0.020000000000000018, 0.0, 0.0, 0.0, -0.010000000000000231, 0.020000000000000018, 0.020000000000000018, -0.020000000000000018, 0.040000000000000036, -0.009999999999999787, -0.010000000000000231, -0.009999999999999787, 0.009999999999999787, -0.009999999999999787, -0.010000000000000231, 0.03000000000000025, -0.010000000000000231, -0.04999999999999982, 0.040000000000000036, -0.010000000000000231, -0.040000000000000036, 0.010000000000000231, 0.009999999999999787, -0.029999999999999805, 0.0, -0.03000000000000025, 0.0, 0.0, 0.020000000000000018, -0.05999999999999961, 0.029999999999999805, -0.020000000000000018, 0.040000000000000036, -0.03000000000000025, 0.0, -0.009999999999999787, -0.020000000000000018, 0.020000000000000018, 0.020000000000000018, -0.020000000000000018, 0.0, -0.04999999999999982, 0.05999999999999961, 0.040000000000000036, -0.08999999999999986, 0.08999999999999986, -0.020000000000000018, 0.010000000000000231, -0.020000000000000018, -0.040000000000000036, 0.029999999999999805, -0.029999999999999805, 0.040000000000000036, -0.06000000000000005, 0.06999999999999984, -0.029999999999999805, -0.009999999999999787, 0.03999999999999959, -0.029999999999999805, -0.009999999999999787, 0.019999999999999574, 0.020000000000000018, 0.0, -0.029999999999999805, 0.040000000000000036, 0.020000000000000018, -0.020000000000000018, -0.010000000000000231, -0.009999999999999787, 0.0, 0.040000000000000036, -0.020000000000000018, 0.0, 0.040000000000000036, -0.06000000000000005, 0.06999999999999984, -0.020000000000000018, 0.0, 0.050000000000000266, 0.0, -0.010000000000000231, 0.0, 0.03000000000000025, 0.0, 0.020000000000000018, 0.009999999999999787, 0.020000000000000018, -0.009999999999999787, -0.03000000000000025, 0.050000000000000266, 0.009999999999999787, -0.029999999999999805, 0.06999999999999984, 0.0, 0.0, 0.009999999999999787, 0.010000000000000231, -0.040000000000000036, 0.020000000000000018, -0.020000000000000018, -0.029999999999999805, 0.029999999999999805, 0.0, -0.04999999999999982, 0.040000000000000036, 0.0, -0.040000000000000036, -0.040000000000000036, 0.040000000000000036, -0.03000000000000025, 0.0, 0.03000000000000025, -0.020000000000000018, 0.009999999999999787, 0.0, -0.009999999999999787, 0.009999999999999787, -0.040000000000000036, 0.010000000000000231, -0.050000000000000266, 0.020000000000000018, 0.040000000000000036, -0.040000000000000036, -0.040000000000000036, -0.009999999999999787, 0.040000000000000036, -0.03000000000000025, 0.010000000000000231, -0.020000000000000018, -0.050000000000000266, 0.010000000000000231, 0.029999999999999805, 0.010000000000000231, 0.0, -0.010000000000000231, -0.040000000000000036, 0.020000000000000018, -0.020000000000000018, 0.020000000000000018, -0.020000000000000018, 0.020000000000000018, 0.020000000000000018, 0.010000000000000231, 0.0, 0.029999999999999805, -0.020000000000000018, 0.020000000000000018, 0.010000000000000231, 0.0, 0.0, 0.04999999999999982, 0.020000000000000018, -0.08000000000000007, 0.03000000000000025, 0.029999999999999805, -0.009999999999999787, 0.020000000000000018, 0.04999999999999982, -0.029999999999999805, 0.0, -0.020000000000000018, -0.010000000000000231, 0.050000000000000266, -0.040000000000000036, 0.009999999999999787, 0.0, 0.0, 0.020000000000000018, 0.0, -0.040000000000000036, 0.040000000000000036, -0.040000000000000036, -0.009999999999999787, 0.009999999999999787, 0.0, 0.010000000000000231, -0.040000000000000036, 0.029999999999999805, 0.03000000000000025, -0.06000000000000005, 0.04999999999999982, 0.0, 0.050000000000000266, -0.06000000000000005, 0.020000000000000018, 0.04999999999999982, -0.04999999999999982, 0.07999999999999963, -0.029999999999999805, 0.0, -0.029999999999999805, 0.009999999999999787, 0.04999999999999982, -0.03999999999999959, 0.020000000000000018, 0.019999999999999574, 0.010000000000000231, 0.04999999999999982, -0.009999999999999787, -0.020000000000000018, 0.029999999999999805, -0.020000000000000018, -0.029999999999999805, 0.009999999999999787, 0.020000000000000018, 0.010000000000000231, -0.020000000000000018, 0.0, -0.010000000000000231, 0.0, -0.04999999999999982, 0.029999999999999805, 0.0, 0.020000000000000018, -0.020000000000000018, 0.020000000000000018, -0.03999999999999959, -0.020000000000000018, 0.029999999999999805, -0.009999999999999787, 0.0, -0.020000000000000018, 0.009999999999999787, 0.040000000000000036, -0.010000000000000231, 0.010000000000000231, 0.0, 0.020000000000000018, 0.0, -0.020000000000000018, -0.010000000000000231, -0.009999999999999787, -0.009999999999999787, 0.029999999999999805, 0.009999999999999787, 0.0, -0.04999999999999982, 0.029999999999999805, 0.010000000000000231, -0.020000000000000018, 0.040000000000000036, 0.0, 0.009999999999999787, 0.010000000000000231, -0.040000000000000036, -0.010000000000000231, -0.019999999999999574, 0.019999999999999574, 0.040000000000000036, -0.029999999999999805, -0.020000000000000018, 0.009999999999999787, 0.0, -0.009999999999999787, 0.029999999999999805, -0.009999999999999787, 0.020000000000000018, -0.010000000000000231, -0.04999999999999982, 0.040000000000000036, 0.009999999999999787, -0.009999999999999787, -0.040000000000000036, 0.04999999999999982, -0.009999999999999787, 0.029999999999999805, -0.040000000000000036, -0.019999999999999574, 0.0, 0.04999999999999982, -0.10000000000000009, 0.010000000000000231, 0.04999999999999982, -0.009999999999999787, -0.050000000000000266, 0.08000000000000007, -0.08000000000000007, 0.050000000000000266, -0.010000000000000231, -0.029999999999999805, 0.020000000000000018, -0.040000000000000036, 0.020000000000000018, 0.009999999999999787, 0.010000000000000231, -0.020000000000000018, 0.029999999999999805, -0.009999999999999787, 0.009999999999999787, -0.029999999999999805, 0.04999999999999982, -0.040000000000000036, 0.040000000000000036, 0.029999999999999805, -0.029999999999999805, 0.040000000000000036, -0.010000000000000231, 0.0, 0.020000000000000018, -0.020000000000000018, 0.03000000000000025, -0.03000000000000025, 0.010000000000000231, -0.010000000000000231, 0.010000000000000231, 0.020000000000000018, -0.010000000000000231, 0.010000000000000231, 0.040000000000000036, 0.0, -0.03000000000000025, -0.009999999999999787, 0.029999999999999805]
y = [-0.10952999999999946, 0.03194999999999926, 0.0009000000000001229, 0.023090000000000277, 0.03456999999999999, -0.02376000000000067, 0.09492000000000056, -0.0710200000000003, 0.10505000000000031, -0.10055000000000014, 0.03654000000000002, 0.05186000000000002, -0.08998000000000017, -0.01065999999999967, 0.08235000000000037, -0.04789000000000021, 0.04724999999999957, -0.06112999999999991, 0.019840000000000746, 0.01912999999999876, 0.011900000000000688, -0.003150000000000208, 0.17074000000000034, -0.14781000000000022, 0.003009999999999735, 0.06915000000000049, -0.07932000000000006, 0.02383999999999986, 0.004729999999999901, 0.026320000000000565, -0.031110000000000415, 0.020489999999999675, 0.03486000000000056, -0.05317000000000016, 0.0963999999999996, -0.04219999999999979, -0.06387999999999971, 0.09101999999999943, 0.014120000000000132, -0.07478999999999969, 0.10646000000000022, -0.057730000000000725, -0.0684099999999992, 0.07340000000000035, -0.07634000000000052, 0.06416999999999984, 0.0476700000000001, -0.09871000000000008, 0.10644999999999971, 0.04747000000000012, -0.04275999999999991, 0.015410000000000146, -0.01083000000000034, -0.010639999999999983, -0.005450000000000177, 0.07635000000000058, -0.026660000000000128, -0.01625999999999994, 0.055299999999999905, 0.0101899999999997, -0.028259999999999508, -0.016900000000000137, -0.006520000000000081, -0.009649999999999714, -0.01022000000000034, 0.04084999999999983, 0.017659999999999787, -0.0987199999999997, 0.05331999999999981, -0.0029799999999995386, -0.11786999999999992, 0.014149999999999885, 0.05625999999999953, -0.07558999999999916, 0.008899999999999686, -0.08946000000000032, 0.01808999999999994, -0.0004199999999996429, -0.013230000000000519, -0.08497999999999983, 0.05864000000000047, 0.004089999999999261, 0.09602000000000022, -0.13632999999999962, 0.07277000000000022, -0.08508000000000049, -0.037679999999999936, 0.02150000000000052, 0.09769999999999968, -0.044030000000000236, 0.005300000000000082, -0.08952999999999989, 0.10620999999999992, 0.035270000000000135, -0.13366000000000033, 0.18395000000000028, -0.06188000000000038, -0.007279999999999731, -0.024430000000000174, -0.045809999999999906, 0.06463999999999981, -0.10519000000000034, 0.09838000000000058, -0.09621000000000057, 0.1322100000000006, -0.08665999999999974, 0.006139999999999368, 0.09236000000000066, -0.02421000000000051, -0.049290000000000056, 0.023579999999999934, 0.054090000000000416, 0.003530000000000477, -0.08136000000000099, 0.08135000000000048, 0.06735000000000024, 0.002269999999999328, -0.08550999999999931, -0.0006500000000002615, 0.007369999999999877, 0.05726999999999993, -0.016750000000000043, 0.013409999999999478, 0.09856000000000087, -0.1438400000000004, 0.09166000000000052, 0.013819999999999943, 0.05547000000000013, 0.058629999999999516, -0.06831000000000031, 0.005810000000000315, 0.020820000000000505, 0.01709999999999967, 0.04065999999999992, -0.01120999999999972, 0.03266999999999953, 0.04640000000000022, 0.008039999999999825, -0.07055999999999996, 0.09337000000000018, 0.015099999999999891, -0.09313000000000038, 0.14690000000000047, 0.018209999999999837, -0.01939999999999964, -0.0031100000000003902, 0.00550000000000006, -0.12692999999999932, 0.12239999999999984, -0.07174000000000014, -0.0019400000000002748, -0.00509999999999966, 0.009929999999999772, -0.07251999999999947, 0.06771999999999911, 0.014410000000000256, -0.09857999999999967, -0.14025000000000043, 0.13916999999999957, -0.0657899999999998, -0.06355999999999984, 0.051819999999999755, -0.014789999999999193, 0.037189999999999834, -0.028070000000000483, 0.025180000000000202, 0.02245000000000008, -0.14281000000000033, 0.055030000000000356, -0.07384000000000013, -0.022089999999999943, 0.1328999999999998, -0.1197499999999998, -0.06642999999999999, 0.01336999999999966, 0.03416000000000041, -0.027249999999999552, -0.009820000000000384, -0.04626000000000019, -0.056599999999999984, 0.014719999999999622, 0.06599000000000066, -0.030890000000000306, -0.00570999999999966, 0.0006899999999996353, -0.08021000000000011, 0.03558000000000039, -0.05245999999999995, 0.07764000000000015, -0.041110000000000646, 0.04693000000000014, 0.024099999999999788, 0.016950000000000465, 0.01971999999999996, 0.0644199999999997, -0.02193999999999985, 0.03918000000000044, 0.04712999999999967, -0.025490000000000013, -0.00046999999999997044, 0.10199000000000025, 0.056239999999999846, -0.16215000000000002, 0.07247999999999966, 0.07911000000000046, -0.05323000000000011, 0.03661999999999965, 0.11334000000000044, -0.01548000000000016, -0.03654000000000046, -0.012229999999999741, -0.047559999999999825, 0.17158000000000007, -0.11980000000000013, 0.015719999999999956, -0.005310000000000148, 0.045290000000000497, 0.0313399999999997, -0.04389000000000021, -0.039670000000000094, 0.0707399999999998, -0.03425999999999929, -0.013980000000000103, -0.005780000000000118, -0.03640000000000043, 0.10995000000000044, -0.09609000000000023, 0.0354000000000001, 0.031230000000000313, -0.08021000000000056, 0.10040000000000049, -0.03478000000000003, 0.13537, -0.13047999999999993, 0.031479999999999286, 0.08908000000000049, -0.07574999999999976, 0.13541999999999987, -0.08311000000000002, 0.046110000000000095, -0.0871900000000001, 0.009219999999999562, 0.11284000000000072, -0.07649000000000017, 0.03189999999999982, 0.03780000000000028, 0.010010000000000296, 0.0855699999999997, -0.0018400000000000638, -0.04466999999999954, 0.0033199999999995455, 0.007899999999999796, -0.05479999999999974, -0.005690000000000417, 0.04570000000000096, 0.016459999999999475, -0.027890000000000637, -0.030049999999999688, 0.03332000000000068, -0.0055400000000007665, -0.11867999999999945, 0.11457999999999924, -0.02255999999999947, 0.019570000000000753, -0.07636000000000065, 0.0557499999999993, -0.06365999999999916, -0.013910000000000533, 0.02383000000000024, 0.003029999999999866, -0.009489999999999998, -0.02326999999999968, -0.02134999999999998, 0.050199999999999356, 0.03723000000000054, -0.035450000000000426, 0.01745999999999981, 0.07115000000000027, -0.0012299999999996203, -0.08141000000000043, -0.016309999999999825, 0.037590000000000234, -0.05474000000000023, 0.03434999999999988, 0.08415000000000017, -0.04696999999999951, -0.11148000000000069, 0.07827000000000028, -0.010889999999999844, -0.03601999999999972, 0.07685999999999948, 0.0035000000000002807, 0.054039999999999644, 0.040619999999999656, -0.08783999999999992, -0.03932999999999964, -0.026310000000000056, -0.01075999999999988, 0.14618999999999982, -0.06289000000000033, -0.09046999999999938, 0.07687000000000044, -0.07600000000000051, 0.005259999999999376, 0.10164000000000062, -0.05583000000000027, 0.04760000000000009, 0.00969000000000042, -0.11625000000000041, 0.03150999999999993, 0.05171000000000037, -0.009260000000000268, -0.10240999999999989, 0.09989999999999988, -0.027390000000000025, 0.07547000000000015, -0.09687999999999963, -0.014530000000000598, -0.035109999999999975, 0.13793999999999995, -0.16327000000000025, 0.025590000000000224, 0.07085000000000008, -0.024040000000000283, -0.08636999999999917, 0.1330599999999995, -0.12880000000000047, 0.0872500000000005, -0.02049999999999974, -0.06755000000000022, 0.03662999999999972, -0.07022999999999957, 0.053719999999999324, -0.0023999999999997357, 0.05055000000000032, -0.049920000000000186, 0.06296000000000035, -0.005010000000000403, -0.02915000000000001, -0.03257999999999983, 0.13201000000000063, -0.11944000000000043, 0.11917, 0.08693000000000017, -0.06063000000000063, 0.09788000000000086, -0.01898000000000044, -0.00727000000000011, -0.01570999999999989, 0.0015999999999998238, 0.03343999999999969, -0.048459999999999503, 0.03169999999999984, -0.0010099999999999554, 0.038000000000000256, -0.02416000000000018, -0.006200000000000205, 0.007989999999999942, 0.04315000000000069, 0.027979999999999006, -0.059629999999999406, -0.08088999999999968, 0.08755999999999942, -0.02483000000000013]





c = 0
diffs = []
for i in range(len(x)-1):
    diff = abs(x[i+1] - y[i])
    diffs.append(diff)

    if (x[i+1] < 0 and y[i] < 0) or x[i+1] > 0 and y[i] > 0:
        c += 1

print(c)
